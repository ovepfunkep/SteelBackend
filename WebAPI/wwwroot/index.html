<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Testing frontend</title>
</head>
<body>
    <button id="buttonGetMonthTrainings">GetMonthTrainings</button>
    <button id="buttonPostAppointment">PostAppointment</button>
    <button id="buttonGetUpcomingUserTrainingsExtended">GetUpcomingUserTrainingsExtended</button>
    <button id="buttonGetUsersAchievments">GetUsersAchievments</button>
    <button id="buttonGetTeacherExtended">GetTeacherExtended</button>
    <button id="buttonGetReview">GetReview</button>
    <button id="buttonPostReview">PostReview</button>
    <button id="buttonGetAchievements">GetAchievements</button>
    <button id="buttonGetNews">GetNews</button>
    <button id="buttonGetOneNews">GetOneNews</button>
    <br />
    <button id="buttonGetUserByData">GetUserByData</button>
    <button id="buttonGetUserById">GetUserById</button>
    <button id="buttonGetUsers">GetUsers</button>
    <button id="buttonAddUser">AddUser</button>
    <button id="buttonUpdateUser">UpdateUser</button>
    <button id="buttonDeleteUser">DeleteUser</button>
    <br />
    <button id="buttonGetActivities">GetActivities</button>
    <button id="buttonGetCertainActivity">GetCertainActivity</button>
    <button id="buttonAddActivity">AddActivity</button>
    <button id="buttonUpdateActivity">UpdateActivity</button>
    <button id="buttonDeleteActivity">DeleteActivity</button>
    <br />
    <button id="buttonGetTeachers">GetTeachers</button>
    <button id="buttonGetCertainActivityTeachers">GetCertainActivityTeachers</button>
    <button id="buttonGetTeachersExtended">GetTeachersExtended</button>
    <button id="buttonAddActivity">AddActivity</button>
    <button id="buttonUpdateActivity">UpdateActivity</button>
    <button id="buttonDeleteActivity">DeleteActivity</button>
    <script>
        //Users requests
        document.getElementById("buttonGetUserByData").addEventListener("click", async () => {
            try {
                const user = { Phone: "1" }
                const userString = encodeURIComponent(JSON.stringify(user));
                const response = await fetch(`/api/users/${userString}`);

                if (response.ok === true) {
                    const user = await response.json();
                    console.log(user);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetUserById").addEventListener("click", async () => {
            try {
                const response = await fetch(`/api/users/15`);

                if (response.ok === true) {
                    const user = await response.json();
                    console.log(user);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetUsers").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/users");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonAddUser").addEventListener("click", async () => {
            try {
                const user = { Phone: "Pupsich", Password: "1" }
                const userString = encodeURIComponent(JSON.stringify(user));
                const response = await fetch(`/api/users/${userString}`, { method: "POST" });

                if (response.ok === true) {
                    const user = await response.json();
                    console.log(user);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonUpdateUser").addEventListener("click", async () => {
            try {
                const user = {
                    id: 23,
                    name: "Pupsich1"
                }
                const userString = JSON.stringify(user);
                const response = await fetch(`/api/users/${userString}`, { method: "PUT" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonDeleteUser").addEventListener("click", async () => {
            try {
                const response = await fetch(`/api/users/23`, { method: "Delete" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        //Activities requests
        document.getElementById("buttonGetActivities").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/activities");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetCertainActivity").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/activities/1");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonAddActivity").addEventListener("click", async () => {
            try {
                const activity = { name: "Футбол" }
                const activityString = encodeURIComponent(JSON.stringify(activity));
                const response = await fetch(`/api/activities/${activityString}`, { method: "POST" });

                if (response.ok === true) {
                    const user = await response.json();
                    console.log(user);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonUpdateActivity").addEventListener("click", async () => {
            try {
                const activity = {
                    id: 2,
                    name: "Pupsich1"
                }
                const activityString = JSON.stringify(activity);
                const response = await fetch(`/api/activities/${activityString}`, { method: "PUT" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonDeleteActivity").addEventListener("click", async () => {
            try {
                const response = await fetch(`/api/activities/2`, { method: "Delete" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        //Teachers requests
        document.getElementById("buttonGetTeachers").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/teachers");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetCertainActivityTeachers").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/teachers/activity/1");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetTeachersExtended").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/teachers/extended");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetTeacherExtended").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/teachers/extended/1");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });


        document.getElementById("buttonGetMonthTrainings").addEventListener("click", async () => {
            try {
                const response = await fetch(`/api/trainings/monthly/${(new Date()).toJSON()}`);

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonPostAppointment").addEventListener("click", async () => {
            try {
                const appointment = {
                    TrainingId: "1",
                    UserId: "15"
                }
                const appointmentString = JSON.stringify(appointment);
                const response = await fetch(`/api/appointments/${appointmentString}`, { method: "POST" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });



        document.getElementById("buttonGetUpcomingUserTrainingsExtended").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/trainings/users/15?isUpcoming=true");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetUsersAchievments").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/achievements/users/15");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetReview").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/reviews/teacher/1");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonPostReview").addEventListener("click", async () => {
            try {
                const review = {
                    TeacherId: "1",
                    UserId: "20",
                    Text: "Препод топ",
                    Rate: "20"
                }
                const reviewString = JSON.stringify(review);
                const response = await fetch(`/api/reviews/${reviewString}`, { method: "POST" });

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetAchievements").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/achievements");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetNews").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/news");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });

        document.getElementById("buttonGetOneNews").addEventListener("click", async () => {
            try {
                const response = await fetch("/api/news/1");

                if (response.ok === true) {
                    const data = await response.json();
                    console.log(data);
                } else {
                    const error = await response.json();
                    console.log(error.message);
                }
            } catch (error) {
                console.log(error);
            }
        });




    </script>
</body>
</html>